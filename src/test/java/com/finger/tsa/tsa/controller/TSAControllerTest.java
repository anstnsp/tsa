package com.finger.tsa.tsa.controller;

import static org.assertj.core.api.Assertions.assertThat;
import static org.hamcrest.CoreMatchers.is;
import static org.springframework.test.web.client.match.MockRestRequestMatchers.jsonPath;
import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;
import static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;


import org.hamcrest.core.Is;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;
import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.mock.mockito.MockBean;
import org.springframework.boot.test.web.client.TestRestTemplate;
import org.springframework.boot.web.server.LocalServerPort;
import org.springframework.context.MessageSource;
import org.springframework.http.HttpEntity;
import org.springframework.http.MediaType;
import org.springframework.http.ResponseEntity;
import org.springframework.test.context.junit.jupiter.SpringExtension;
import org.springframework.test.web.servlet.MockMvc;
import org.springframework.test.web.servlet.MvcResult;


import static org.hamcrest.Matchers.is;

import com.fasterxml.jackson.databind.ObjectMapper;
import com.finger.tsa.common.response.CommonResult;
import com.finger.tsa.common.response.ResponseService;
import com.finger.tsa.common.response.SingleResult;
import com.finger.tsa.tsa.dto.TSADto;
import com.finger.tsa.tsa.service.TSAService;

/**
 * MockMvc 주입 2가지 방법 
 * 1.@SpringBootTest + @AutoConfigureMockMvc
 * 2.@WebMvcTest 
 * @author finger-anstn
 *
 */
@ExtendWith(SpringExtension.class)
//@WebMvcTest(TSAController.class)
@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
//@AutoConfigureMockMvc
//@Transactional
public class TSAControllerTest {
	
	@Autowired
	private TestRestTemplate restTemplate; 
	@LocalServerPort
	private int port; 
	    
	@Test
	@DisplayName("시점확인 - 등록")
	public void pdf받아서토큰삽입해서줌() throws Exception {
		//given		
		String strFromFile = "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Ci9SZXNvdXJjZXMgMTEgMCBSCi9NZWRpYUJveFsgMCAwIDU5NSA4NDIgXQovS2lkc1sgMSAwIFIgXQovQ291bnQgMT4+CmVuZG9iagoKMTIgMCBvYmoKPDwvVHlwZS9DYXRhbG9nL1BhZ2VzIDQgMCBSCi9PcGVuQWN0aW9uWzEgMCBSIC9YWVogbnVsbCBudWxsIDBdCi9MYW5nKGVuLU5aKQo+PgplbmRvYmoKCjEzIDAgb2JqCjw8L0NyZWF0b3I8RkVGRjAwNTcwMDcyMDA2OTAwNzQwMDY1MDA3Mj4KL1Byb2R1Y2VyPEZFRkYwMDRGMDA3MDAwNjUwMDZFMDA0RjAwNjYwMDY2MDA2OTAwNjMwMDY1MDAyRTAwNkYwMDcyMDA2NzAwMjAwMDMyMDAyRTAwMzQ+Ci9DcmVhdGlvbkRhdGUoRDoyMDA4MTAyNDA1MTIxNCsxMycwMCcpPj4KZW5kb2JqCgp4cmVmCjAgMTQKMDAwMDAwMDAwMCA2NTUzNSBmIAowMDAwMDEzMzM2IDAwMDAwIG4gCjAwMDAwMDAwMTkgMDAwMDAgbiAKMDAwMDAwMDIwMiAwMDAwMCBuIAowMDAwMDEzNDc5IDAwMDAwIG4gCjAwMDAwMDAyMjIgMDAwMDAgbiAKMDAwMDAxMjUxOSAwMDAwMCBuIAowMDAwMDEyNTQxIDAwMDAwIG4gCjAwMDAwMTI3MzggMDAwMDAgbiAKMDAwMDAxMzA2MCAwMDAwMCBuIAowMDAwMDEzMjQ5IDAwMDAwIG4gCjAwMDAwMTMyODEgMDAwMDAgbiAKMDAwMDAxMzU3OCAwMDAwMCBuIAowMDAwMDEzNjc1IDAwMDAwIG4gCnRyYWlsZXIKPDwvU2l6ZSAxNC9Sb290IDEyIDAgUgovSW5mbyAxMyAwIFIKL0lEIFsgPDVEQTZGOTEyMUMzQUE0QjZBNDU2MDdFRTNCNTM3QTY4Pgo8NURBNkY5MTIxQzNBQTRCNkE0NTYwN0VFM0I1MzdBNjg+IF0KL0RvY0NoZWNrc3VtIC83NTAwOEEzODc0RUYyOTJFNjhBNkE3RTY2OTVFMEY5NQo+PgpzdGFydHhyZWYKMTM4NjIKJSVFT0YK"; 
		TSADto dto = TSADto.builder().strFromFile(strFromFile).build();
		String url = "http://localhost:"+port+"/v1/tsa/gettoken"; 
		
		//when 
		SingleResult<String> res = restTemplate.postForObject(url, dto, SingleResult.class); 

		//then 
		assertThat(res.getCode()).isEqualTo(0);
		assertThat(res.getMsg()).isEqualTo("success");

	}
	
	@Test
	@DisplayName("시점확인 - 검증")
	public void 시점확인검즘() throws Exception {
		//given
		String strFromFile = "sdfg";
		TSADto dto = TSADto.builder().strFromFile(strFromFile).build();
		String url = "http://localhost:"+port+"/v1/tsa/verify";
		//when
		CommonResult res = restTemplate.postForObject(url, dto, CommonResult.class); 
		//then 
		assertThat(res.getCode()).isEqualTo(0);
		assertThat(res.getMsg()).isEqualTo("success"); 
	}

}
